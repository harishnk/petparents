{"ts":1353195035353,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1353195180482,"patch":[[{"diffs":[[1,"// handler for homepage\r\nexports.home = function(req, res) {\r\n    // if user is not logged in, ask them to login\r\n\tif (typeof req.session.username == 'undefined') res.render('home', { title: 'Pet Parents'});\r\n\t// if user is logged in already, take them straight to the items list\r\n\telse res.redirect('/items');\r\n};\r\n\r\n// handler for form submitted from homepage\r\nexports.home_post_handler = function(req, res) {\r\n\t// if the username is not submitted, give it a default of \"Anonymous\"\r\n\tvar username = req.body.username || 'Anonymous';\r\n\t// store the username as a session variable\r\n\treq.session.username = username;\r\n\t// redirect the user to homepage\r\n\tres.redirect('/');\r\n};\r\n\r\n// our 'database'\r\nvar items = {\r\n    SKN:{name:'Shuriken', price:100},\r\n    ASK:{name:'Ashiko', price:690},\r\n    CGI:{name:'Chigiriki', price:250},\r\n    NGT:{name:'Naginata', price:900},\r\n    KTN:{name:'Katana', price:1000}\r\n};\r\n\r\n// handler for displaying the items\r\nexports.items = function(req, res) {\r\n    // don't let nameless people view the items, redirect them back to the homepage\r\n    if (typeof req.session.username == 'undefined') res.redirect('/');\r\n    else res.render('items', { title: 'Ninja Store - Items', username: req.session.username, items:items });\r\n};\r\n\r\n// handler for displaying individual items\r\nexports.item = function(req, res) {\r\n    // don't let nameless people view the items, redirect them back to the homepage\r\n    if (typeof req.session.username == 'undefined') res.redirect('/');\r\n    else {\r\n        var name = items[req.params.id].name;\r\n        var price = items[req.params.id].price;\r\n        res.render('item', { title: 'Pet Parents - ' + name, username: req.session.username, name:name, price:price });\r\n    }\r\n};\r\n\r\n// handler for showing simple pages\r\nexports.page = function(req, res) {\r\n    var name = req.query.name;\r\n    var contents = {\r\n        about: 'Pet Parents unite.',\r\n        contact: 'You can contact us at <address><strong>Pet Parents</strong>,<br>60, Wadswoth St,<br>Cambridge,<br>MA,<br>02142</address>'\r\n    };\r\n    res.render('page', { title: 'Ninja Store - ' + name, username: req.session.username, content:contents[name] });\r\n};"]],"start1":0,"start2":0,"length1":0,"length2":2173}]],"length":2173,"saved":false}
{"ts":1353195212235,"patch":[[{"diffs":[[0,"title: '"],[-1,"Ninja Store"],[1,"Pet Parents"],[0," - ' + n"]],"start1":2079,"start2":2079,"length1":27,"length2":27}]],"length":2173,"saved":false}
{"ts":1353195414627,"patch":[[{"diffs":[[0,"    "],[-1,"SKN"],[1,"DOG"],[0,":{na"]],"start1":713,"start2":713,"length1":11,"length2":11},{"diffs":[[0,"e:'S"],[-1,"hur"],[1,"p"],[0,"ike"],[-1,"n"],[0,"', "],[-1,"price:100"],[1,"type:'Dog'"],[0,"},\r\n    "],[-1,"ASK"],[1,"CAT"],[0,":{name:'"],[-1,"Ashiko', price:690"],[1,"Polly', type:'Cat'"],[0,"},\r\n    "],[-1,"CGI"],[1,"HMT"],[0,":{name:'"],[-1,"Chigiriki', price:250"],[1,"Hamster', type:'Jerry'"],[0,"},\r\n    "],[-1,"NGT"],[1,"CRO"],[0,":{name:'"],[-1,"Naginata', price:900"],[1,"Lacoste', type:'Crocodile'"],[0,"},\r\n    "],[-1,"KTN"],[1,"EGL"],[0,":{name:'"],[-1,"Katana', price:1000"],[1,"Flight', type:'Eagle'"],[0,"}\r\n}"]],"start1":725,"start2":725,"length1":181,"length2":188},{"diffs":[[0,"e: '"],[-1,"Ninja Store - Item"],[1,"Pets - member"],[0,"s', "]],"start1":1185,"start2":1185,"length1":26,"length2":21},{"diffs":[[0,", items:"],[-1,"items"],[1,"name"],[0," });\r\n};"]],"start1":1236,"start2":1236,"length1":21,"length2":20}]],"length":2174,"saved":false}
{"ts":1353195448244,"patch":[[{"diffs":[[0,"    var "],[-1,"pric"],[1,"typ"],[0,"e = item"]],"start1":1561,"start2":1561,"length1":20,"length2":19},{"diffs":[[0,"ams.id]."],[-1,"pric"],[1,"typ"],[0,"e;\r\n    "]],"start1":1589,"start2":1589,"length1":20,"length2":19},{"diffs":[[0,"me, "],[-1,"price:pric"],[1,"type:typ"],[0,"e })"]],"start1":1704,"start2":1704,"length1":18,"length2":16}]],"length":2170,"saved":false}
{"ts":1353208141905,"patch":[[{"diffs":[[0,"ername, "],[-1,"items"],[1,"name"],[0,":name })"]],"start1":1230,"start2":1230,"length1":21,"length2":20}]],"length":2169,"saved":false}
{"ts":1353208360952,"patch":[[{"diffs":[[0,"o the homepage\r\n"],[1,"    var name1 = items[req.params.id].name;\r\n    var type1 = items[req.params.id].type;\r\n"],[0,"    if (typeof r"]],"start1":1062,"start2":1062,"length1":32,"length2":120},{"diffs":[[0,"ername, name"],[1,"1"],[0,":name });\r\n}"]],"start1":1318,"start2":1318,"length1":24,"length2":25}]],"length":2258,"saved":false}
{"ts":1353208882925,"patch":[[{"diffs":[[0,"mepage\r\n    "],[1,"//"],[0,"var name1 = "]],"start1":1070,"start2":1070,"length1":24,"length2":26},{"diffs":[[0,"    "],[1,"//"],[0,"var type"],[-1,"1"],[0," = i"]],"start1":1124,"start2":1124,"length1":17,"length2":18},{"diffs":[[0,".id].type;\r\n"],[1,"   \r\n"],[0,"    if (type"]],"start1":1157,"start2":1157,"length1":24,"length2":29},{"diffs":[[0,"ername, "],[-1,"name1"],[1,"items"],[0,":name })"]],"start1":1326,"start2":1326,"length1":21,"length2":21}]],"length":2266,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353209543143,"patch":[[{"diffs":[[0,"title: '"],[-1,"Pet Parents"],[1,"Ninja Store"],[0,"'});\r\n\t/"]],"start1":184,"start2":184,"length1":27,"length2":27},{"diffs":[[0,"ge\r\n"],[-1,"    //var name1 = items[req.params.id].name;\r\n    //var type = items[req.params.id].type;\r\n   \r\n"],[0,"    "]],"start1":1074,"start2":1074,"length1":104,"length2":8},{"diffs":[[0,"e: '"],[-1,"Pets - member"],[1,"Ninja Store - Item"],[0,"s', "]],"start1":1185,"start2":1185,"length1":21,"length2":26},{"diffs":[[0,", items:"],[-1,"name"],[1,"items"],[0," });\r\n};"]],"start1":1241,"start2":1241,"length1":20,"length2":21},{"diffs":[[0,"    var "],[-1,"typ"],[1,"pric"],[0,"e = item"]],"start1":1567,"start2":1567,"length1":19,"length2":20},{"diffs":[[0,"ams.id]."],[-1,"typ"],[1,"pric"],[0,"e;\r\n    "]],"start1":1596,"start2":1596,"length1":19,"length2":20},{"diffs":[[0,", { title: '"],[-1,"Pet Parents"],[1,"Ninja Store"],[0," - ' + name,"]],"start1":1637,"start2":1637,"length1":35,"length2":35},{"diffs":[[0,"me, "],[-1,"type:typ"],[1,"price:pric"],[0,"e })"]],"start1":1712,"start2":1712,"length1":16,"length2":18},{"diffs":[[0,"t: '"],[-1,"Pet Parents unite"],[1,"Ninja Store sells the coolest ninja stuff in the world. Anyone shopping here is cool"],[0,".',\r"]],"start1":1886,"start2":1886,"length1":25,"length2":92},{"diffs":[[0,"<strong>"],[-1,"Pet Parents"],[1,"Ninja Store"],[0,"</strong"]],"start1":2028,"start2":2028,"length1":27,"length2":27},{"diffs":[[0,"<br>"],[-1,"60, Wadswoth St,<br>Cambridge,<br>MA,<br>02142"],[1,"1, World Ninja Headquarters,<br>Ninja Avenue,<br>NIN80B7-JP,<br>Nihongo."],[0,"</ad"]],"start1":2057,"start2":2057,"length1":54,"length2":80},{"diffs":[[0,"e: '"],[-1,"Pet Parents"],[1,"Ninja Store"],[0," - '"]],"start1":2183,"start2":2183,"length1":19,"length2":19}]],"length":2273,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353209805337,"patch":[[{"diffs":[[0,"ts[name] });"],[-1,"\r\n};"]],"start1":2257,"start2":2257,"length1":16,"length2":12}]],"length":2269,"saved":false}
{"ts":1353209932682,"patch":[[{"diffs":[[0,"(req, res) {"],[-1,""],[0,""],[1," "],[0,"\r\n    var na"]],"start1":1806,"start2":1806,"length1":24,"length2":25},{"diffs":[[0,"t: '"],[-1,"Ninja Store sells the coolest ninja stuff in the world. Anyone shopping here is cool."],[1,"Welcome to Pet Parents"],[0,"',\r\n"]],"start1":1887,"start2":1887,"length1":93,"length2":30},{"diffs":[[0,"<strong>"],[-1,"Ninja Store"],[1,"Pet Parents"],[0,"</strong"]],"start1":1966,"start2":1966,"length1":27,"length2":27},{"diffs":[[0,"ts[name] });"],[1,"\r\n};"]],"start1":2195,"start2":2195,"length1":12,"length2":16}]],"length":2211,"saved":false}
{"ts":1353210051414,"patch":[[{"diffs":[[0,">1, "],[-1,"World Ninja Headquarters,<br>Ninja Avenue,<br>NIN80B7-JP,<br>Nihongo."],[1,"Corporate Office,<br>60 Wadsworth St.,<br>02142,<br>MA"],[0,"</ad"]],"start1":1998,"start2":1998,"length1":77,"length2":62}]],"length":2196,"saved":false}
{"ts":1353210071472,"patch":[[{"diffs":[[0,"<br>"],[-1,"02142"],[1,"Cambridge"],[0,",<br"]],"start1":2040,"start2":2040,"length1":13,"length2":17}]],"length":2200,"saved":false}
{"ts":1353211187653,"patch":[[{"diffs":[[0,"title: '"],[-1,"Ninja Store"],[1,"Pet parents"],[0," - Items"]],"start1":1181,"start2":1181,"length1":27,"length2":27}]],"length":2200,"saved":false}
{"ts":1353211194000,"patch":[[{"diffs":[[0,", { title: '"],[-1,"Ninja Store"],[1,"Pet parents"],[0," - ' + name,"]],"start1":1637,"start2":1637,"length1":35,"length2":35}]],"length":2200,"saved":false}
{"ts":1353211205389,"patch":[[{"diffs":[[0,"title: '"],[-1,"Ninja Store"],[1,"Pet parents"],[0," - ' + n"]],"start1":2106,"start2":2106,"length1":27,"length2":27}]],"length":2200,"saved":false}
{"ts":1353212964660,"patch":[[{"diffs":[[0,"me, "],[-1,"price:pric"],[1,"type:typ"],[0,"e })"]],"start1":1712,"start2":1712,"length1":18,"length2":16}]],"length":2198,"saved":false}
{"ts":1353212979451,"patch":[[{"diffs":[[0,"    var "],[-1,"pric"],[1,"typ"],[0,"e = item"]],"start1":1567,"start2":1567,"length1":20,"length2":19},{"diffs":[[0,"id]."],[-1,"pric"],[1,"typ"],[0,"e;\r\n"]],"start1":1599,"start2":1599,"length1":12,"length2":11}]],"length":2196,"saved":false}
